import{S as Ge,i as Ne,s as Pe,k as W,a as O,q as j,e as le,Q as De,l as T,h as b,c as X,m as H,r as M,n as y,R as N,F as v,b as S,O as $,T as Ae,U as Se,G as se,P as Oe,H as Xe,V as Ce,W as We,p as J,X as Le,u as ee,Y as Te,Z as He,_ as oe}from"../chunks/index.fb970b68.js";import{p as ze}from"../chunks/parse.bee59afc.js";import{j as Fe,k as Ie}from"../chunks/singletons.4f040f5d.js";import{r as Ve}from"../chunks/index.562a36d8.js";const qe=(a,e={})=>{de(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:r=3500,force:o=.5,particleCount:n=150,particleShape:s="mix",particleSize:l=12,destroyAfterDone:c=!0,stageHeight:p=800,stageWidth:m=1600}=e;(function(i){const h=Y("style");h.dataset.neoconfetti="",h.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,h)})(),a.classList.add("fk9XWG_container"),a.style.setProperty("--stage-height",p+"px");let g,_=ue(n,t),u=ne(a,_);function f(i,h){const E=U(C()*(Ke-1)),w=s!=="rectangles"&&(s==="circles"||Qe(E)),A=(z,P)=>i.style.setProperty(z,P+"");A("--x-landing-point",K(B(fe(h,90)-180),0,180,-m/2,m/2)+"px"),A("--duration-chaos",r-U(1e3*C())+"ms");const L=C()<Be?I(C()*Re,2):0;A("--x1",L),A("--x2",-1*L),A("--x3",L),A("--x4",I(B(K(B(fe(h,90)-180),0,180,-1,1)),4)),A("--y1",I(C()*ce,4)),A("--y2",I(C()*o*(je()?1:-1),4)),A("--y3",ce),A("--y4",I(Je(K(B(h-180),0,180,o,-o),0),4)),A("--width",(w?l:U(4*C())+l/2)+"px"),A("--height",(w?l:U(2*C())+l)+"px");const q=E.toString(2).padStart(3,"0").split("");A("--half-rotation",q.map(z=>+z/2+"")),A("--rotation",q),A("--rotation-duration",I(C()*(Ue-ie)+ie)+"ms"),A("--border-radius",w?"50%":0)}for(const[i,h]of Object.entries(u))f(h,_[+i].degree);return Promise.resolve().then(()=>g=setTimeout(()=>c&&(a.innerHTML=""),r)),{update(i){de(i);const h=i.particleCount??n,E=i.colors??t,w=i.stageHeight??p;if(_=ue(h,E),h===n&&JSON.stringify(t)!==JSON.stringify(E))for(const[A,{color:L}]of Object.entries(_))u[+A].style.setProperty("--bgcolor",L);h!==n&&(a.innerHTML="",u=ne(a,_)),c&&!i.destroyAfterDone&&clearTimeout(g),a.style.setProperty("--stage-height",w+"px"),t=E,r=i.duration??r,o=i.force??o,n=h,s=i.particleShape??s,l=i.particleSize??l,c=i.destroyAfterDone??c,p=w,m=i.stageWidth??m},destroy(){clearTimeout(g)}}};function ne(a,e=[]){const t=[];for(const{color:r}of e){const o=Y("div");o.className="fk9XWG_particle",o.style.setProperty("--bgcolor",r);const n=Y("div");Z(o,n),Z(a,o),t.push(o)}return t}const ie=200,Ue=800,Be=.1,Re=.3,ce=.5,B=Math.abs,C=Math.random,U=Math.round,Je=Math.max,Y=a=>document.createElement(a),Z=(a,e)=>a.appendChild(e),ue=(a,e)=>Array.from({length:a},(t,r)=>({color:e[r%e.length],degree:360*r/a})),I=(a,e=2)=>U((a+Number.EPSILON)*10**e)/10**e,K=(a,e,t,r,o)=>(a-e)*(o-r)/(t-e)+r,fe=(a,e)=>a+e>360?a+e-360:a+e,je=()=>C()>.5,Ke=6,Qe=a=>a!==1&&je(),x=a=>a===void 0,V=(a,e)=>{if(!x(a)&&Number.isSafeInteger(a)&&a<0)throw new Error(e+" must be a positive integer")},de=({particleCount:a,duration:e,colors:t,particleSize:r,force:o,stageHeight:n,stageWidth:s,particleShape:l})=>{if(V(a,"particleCount"),V(e,"duration"),V(r,"particleSize"),V(o,"force"),V(n,"stageHeight"),V(s,"stageWidth"),!x(l)&&!/^(mix|circles|rectangles)$/i.test(l))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!x(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(o>1)throw new Error("force must be within 0 and 1")},Ye=Fe("invalidate_all");function Ze(a){return Ie.apply_action(a)}function xe(a){const e=JSON.parse(a);return e.data&&(e.data=ze(e.data)),e}function he(a){return HTMLElement.prototype.cloneNode.call(a)}function $e(a,e=()=>{}){const t=async({action:o,result:n,reset:s=!0,invalidateAll:l=!0})=>{n.type==="success"&&(s&&HTMLFormElement.prototype.reset.call(a),l&&await Ye()),(location.origin+location.pathname===o.origin+o.pathname||n.type==="redirect"||n.type==="error")&&Ze(n)};async function r(o){var f,i,h,E;if(((f=o.submitter)!=null&&f.hasAttribute("formmethod")?o.submitter.formMethod:he(a).method)!=="post")return;o.preventDefault();const s=new URL((i=o.submitter)!=null&&i.hasAttribute("formaction")?o.submitter.formAction:he(a).action),l=new FormData(a),c=(h=o.submitter)==null?void 0:h.getAttribute("name");c&&l.append(c,((E=o.submitter)==null?void 0:E.getAttribute("value"))??"");const p=new AbortController;let m=!1;const _=await e({action:s,cancel:()=>m=!0,controller:p,get data(){return l},formData:l,get form(){return a},formElement:a,submitter:o.submitter})??t;if(m)return;let u;try{const w=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:l,signal:p.signal});u=xe(await w.text()),u.type==="error"&&(u.status=w.status)}catch(w){if((w==null?void 0:w.name)==="AbortError")return;u={type:"error",error:w}}_({action:s,get data(){return l},formData:l,get form(){return a},formElement:a,update:w=>t({action:s,result:u,reset:w==null?void 0:w.reset,invalidateAll:w==null?void 0:w.invalidateAll}),result:u})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",r)}}}const Me="(prefers-reduced-motion: reduce)",et=()=>window.matchMedia(Me).matches,tt=Ve(et(),a=>{{const e=r=>{a(r.matches)},t=window.matchMedia(Me);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});const{document:Q,window:at}=Ce;function _e(a,e,t){const r=a.slice();return r[9]=e[t],r}function me(a,e,t){const r=a.slice();return r[12]=e[t],r}function pe(a,e,t){const r=a.slice();r[9]=e[t];const o=r[9]===r[3];return r[15]=o,r}function be(a,e,t){var m,g;const r=a.slice();r[18]=e[t];const o=(m=r[0].answers[r[9]])==null?void 0:m[r[18]];r[19]=o;const n=((g=r[0].guesses[r[9]])==null?void 0:g[r[18]])??"";r[20]=n;const s=r[15]&&r[18]===r[0].guesses[r[9]].length;r[21]=s;const l=r[19]==="x";r[22]=l;const c=r[19]==="c";r[23]=c;const p=r[19]==="_";return r[24]=p,r}function rt(a){let e;return{c(){e=j("empty")},l(t){e=M(t,"empty")},m(t,r){S(t,e,r)},d(t){t&&b(e)}}}function lt(a){let e;return{c(){e=j("(absent)")},l(t){e=M(t,"(absent)")},m(t,r){S(t,e,r)},d(t){t&&b(e)}}}function st(a){let e;return{c(){e=j("(present)")},l(t){e=M(t,"(present)")},m(t,r){S(t,e,r)},d(t){t&&b(e)}}}function ot(a){let e;return{c(){e=j("(correct)")},l(t){e=M(t,"(correct)")},m(t,r){S(t,e,r)},d(t){t&&b(e)}}}function ge(a,e){let t,r=e[20]+"",o,n,s,l,c,p,m;function g(f,i){return f[22]?ot:f[23]?st:f[24]?lt:rt}let _=g(e),u=_(e);return{key:a,first:null,c(){t=W("div"),o=j(r),n=O(),s=W("span"),u.c(),l=O(),c=W("input"),this.h()},l(f){t=T(f,"DIV",{class:!0});var i=H(t);o=M(i,r),n=X(i),s=T(i,"SPAN",{class:!0});var h=H(s);u.l(h),h.forEach(b),l=X(i),c=T(i,"INPUT",{name:!0,type:!0}),i.forEach(b),this.h()},h(){y(s,"class","visually-hidden"),y(c,"name","guess"),c.disabled=p=!e[15],y(c,"type","hidden"),c.value=m=e[20],y(t,"class","letter svelte-1pg2j5l"),N(t,"exact",e[22]),N(t,"close",e[23]),N(t,"missing",e[24]),N(t,"selected",e[21]),this.first=t},m(f,i){S(f,t,i),v(t,o),v(t,n),v(t,s),u.m(s,null),v(t,l),v(t,c)},p(f,i){e=f,i&1&&r!==(r=e[20]+"")&&ee(o,r),_!==(_=g(e))&&(u.d(1),u=_(e),u&&(u.c(),u.m(s,null))),i&8&&p!==(p=!e[15])&&(c.disabled=p),i&1&&m!==(m=e[20])&&(c.value=m),i&1&&N(t,"exact",e[22]),i&1&&N(t,"close",e[23]),i&1&&N(t,"missing",e[24]),i&9&&N(t,"selected",e[21])},d(f){f&&b(t),u.d()}}}function ye(a,e){let t,r,o=e[9]+1+"",n,s,l,c=[],p=new Map,m,g=Array.from(Array(5).keys());const _=u=>u[18];for(let u=0;u<g.length;u+=1){let f=be(e,g,u),i=_(f);p.set(i,c[u]=ge(i,f))}return{key:a,first:null,c(){t=W("h2"),r=j("Row "),n=j(o),s=O(),l=W("div");for(let u=0;u<c.length;u+=1)c[u].c();m=O(),this.h()},l(u){t=T(u,"H2",{class:!0});var f=H(t);r=M(f,"Row "),n=M(f,o),f.forEach(b),s=X(u),l=T(u,"DIV",{class:!0});var i=H(l);for(let h=0;h<c.length;h+=1)c[h].l(i);m=X(i),i.forEach(b),this.h()},h(){y(t,"class","visually-hidden"),y(l,"class","row svelte-1pg2j5l"),N(l,"current",e[15]),this.first=t},m(u,f){S(u,t,f),v(t,r),v(t,n),S(u,s,f),S(u,l,f);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(l,null);v(l,m)},p(u,f){e=u,f&9&&(g=Array.from(Array(5).keys()),c=Se(c,f,_,1,e,g,p,l,We,ge,m,be)),f&8&&N(l,"current",e[15])},d(u){u&&b(t),u&&b(s),u&&b(l);for(let f=0;f<c.length;f+=1)c[f].d()}}}function nt(a){let e,t,r,o,n,s,l,c,p,m,g=["qwertyuiop","asdfghjkl","zxcvbnm"],_=[];for(let u=0;u<3;u+=1)_[u]=ke(_e(a,g,u));return{c(){e=W("div"),t=W("button"),r=j("enter"),n=O(),s=W("button"),l=j("back"),c=O();for(let u=0;u<3;u+=1)_[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var f=H(e);t=T(f,"BUTTON",{"data-key":!0,class:!0});var i=H(t);r=M(i,"enter"),i.forEach(b),n=X(f),s=T(f,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0});var h=H(s);l=M(h,"back"),h.forEach(b),c=X(f);for(let E=0;E<3;E+=1)_[E].l(f);f.forEach(b),this.h()},h(){y(t,"data-key","enter"),t.disabled=o=!a[6],y(t,"class","svelte-1pg2j5l"),N(t,"selected",a[6]),y(s,"data-key","backspace"),y(s,"formaction","?/update"),y(s,"name","key"),s.value="backspace",y(s,"class","svelte-1pg2j5l"),y(e,"class","keyboard svelte-1pg2j5l")},m(u,f){S(u,e,f),v(e,t),v(t,r),v(e,n),v(e,s),v(s,l),v(e,c);for(let i=0;i<3;i+=1)_[i]&&_[i].m(e,null);p||(m=$(s,"click",Te(a[8])),p=!0)},p(u,f){if(f&64&&o!==(o=!u[6])&&(t.disabled=o),f&64&&N(t,"selected",u[6]),f&301){g=["qwertyuiop","asdfghjkl","zxcvbnm"];let i;for(i=0;i<3;i+=1){const h=_e(u,g,i);_[i]?_[i].p(h,f):(_[i]=ke(h),_[i].c(),_[i].m(e,null))}for(;i<3;i+=1)_[i].d(1)}},d(u){u&&b(e),He(_,u),p=!1,m()}}}function it(a){let e,t,r=a[4]?"you won :)":"game over :(",o,n,s=!a[4]&&a[0].answer&&we(a);return{c(){s&&s.c(),e=O(),t=W("button"),o=j(r),n=j(" play again?"),this.h()},l(l){s&&s.l(l),e=X(l),t=T(l,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var c=H(t);o=M(c,r),n=M(c," play again?"),c.forEach(b),this.h()},h(){y(t,"data-key","enter"),y(t,"class","restart selected svelte-1pg2j5l"),y(t,"formaction","?/restart")},m(l,c){s&&s.m(l,c),S(l,e,c),S(l,t,c),v(t,o),v(t,n)},p(l,c){!l[4]&&l[0].answer?s?s.p(l,c):(s=we(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c&16&&r!==(r=l[4]?"you won :)":"game over :(")&&ee(o,r)},d(l){s&&s.d(l),l&&b(e),l&&b(t)}}}function ve(a){let e,t,r,o,n,s,l;return{c(){e=W("button"),t=j(a[12]),this.h()},l(c){e=T(c,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var p=H(e);t=M(p,a[12]),p.forEach(b),this.h()},h(){y(e,"data-key",a[12]),y(e,"class",r=oe(a[2][a[12]])+" svelte-1pg2j5l"),e.disabled=o=a[0].guesses[a[3]].length===5,y(e,"formaction","?/update"),y(e,"name","key"),e.value=a[12],y(e,"aria-label",n=a[12]+" "+(a[5][a[12]]||""))},m(c,p){S(c,e,p),v(e,t),s||(l=$(e,"click",Te(a[8])),s=!0)},p(c,p){p&4&&r!==(r=oe(c[2][c[12]])+" svelte-1pg2j5l")&&y(e,"class",r),p&9&&o!==(o=c[0].guesses[c[3]].length===5)&&(e.disabled=o),p&32&&n!==(n=c[12]+" "+(c[5][c[12]]||""))&&y(e,"aria-label",n)},d(c){c&&b(e),s=!1,l()}}}function ke(a){let e,t,r=a[9],o=[];for(let n=0;n<r.length;n+=1)o[n]=ve(me(a,r,n));return{c(){e=W("div");for(let n=0;n<o.length;n+=1)o[n].c();t=O(),this.h()},l(n){e=T(n,"DIV",{class:!0});var s=H(e);for(let l=0;l<o.length;l+=1)o[l].l(s);t=X(s),s.forEach(b),this.h()},h(){y(e,"class","row svelte-1pg2j5l")},m(n,s){S(n,e,s);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null);v(e,t)},p(n,s){if(s&301){r=n[9];let l;for(l=0;l<r.length;l+=1){const c=me(n,r,l);o[l]?o[l].p(c,s):(o[l]=ve(c),o[l].c(),o[l].m(e,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},d(n){n&&b(e),He(o,n)}}}function we(a){let e,t,r=a[0].answer+"",o,n;return{c(){e=W("p"),t=j('the answer was "'),o=j(r),n=j('"')},l(s){e=T(s,"P",{});var l=H(e);t=M(l,'the answer was "'),o=M(l,r),n=M(l,'"'),l.forEach(b)},m(s,l){S(s,e,l),v(e,t),v(e,o),v(e,n)},p(s,l){l&1&&r!==(r=s[0].answer+"")&&ee(o,r)},d(s){s&&b(e)}}}function Ee(a){let e,t,r,o;return{c(){e=W("div"),this.h()},l(n){e=T(n,"DIV",{style:!0}),H(e).forEach(b),this.h()},h(){J(e,"position","absolute"),J(e,"left","50%"),J(e,"top","30%")},m(n,s){S(n,e,s),r||(o=Ae(t=qe.call(null,e,{particleCount:a[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),r=!0)},p(n,s){t&&Le(t.update)&&s&128&&t.update.call(null,{particleCount:n[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(n){n&&b(e),r=!1,o()}}}function ct(a){let e,t,r,o,n,s,l,c,p,m,g=[],_=new Map,u,f,i,h,E,w,A=Array.from(Array(6).keys());const L=d=>d[9];for(let d=0;d<A.length;d+=1){let k=pe(a,A,d),D=L(k);_.set(D,g[d]=ye(D,k))}function q(d,k){return d[4]||d[0].answers.length>=6?it:nt}let z=q(a),P=z(a),G=a[4]&&Ee(a);return{c(){e=W("meta"),t=O(),r=W("h1"),o=j("Sverdle"),n=O(),s=W("form"),l=W("a"),c=j("How to play"),p=O(),m=W("div");for(let d=0;d<g.length;d+=1)g[d].c();u=O(),f=W("div"),P.c(),i=O(),G&&G.c(),h=le(),this.h()},l(d){const k=De("svelte-18lvto8",Q.head);e=T(k,"META",{name:!0,content:!0}),k.forEach(b),t=X(d),r=T(d,"H1",{class:!0});var D=H(r);o=M(D,"Sverdle"),D.forEach(b),n=X(d),s=T(d,"FORM",{method:!0,action:!0,class:!0});var F=H(s);l=T(F,"A",{class:!0,href:!0});var te=H(l);c=M(te,"How to play"),te.forEach(b),p=X(F),m=T(F,"DIV",{class:!0});var ae=H(m);for(let R=0;R<g.length;R+=1)g[R].l(ae);ae.forEach(b),u=X(F),f=T(F,"DIV",{class:!0});var re=H(f);P.l(re),re.forEach(b),F.forEach(b),i=X(d),G&&G.l(d),h=le(),this.h()},h(){var d;Q.title="Sverdle",y(e,"name","description"),y(e,"content","A Wordle clone written in SvelteKit"),y(r,"class","visually-hidden"),y(l,"class","how-to-play svelte-1pg2j5l"),y(l,"href","/sverdle/how-to-play"),y(m,"class","grid svelte-1pg2j5l"),N(m,"playing",!a[4]),N(m,"bad-guess",(d=a[1])==null?void 0:d.badGuess),y(f,"class","controls svelte-1pg2j5l"),y(s,"method","POST"),y(s,"action","?/enter"),y(s,"class","svelte-1pg2j5l")},m(d,k){v(Q.head,e),S(d,t,k),S(d,r,k),v(r,o),S(d,n,k),S(d,s,k),v(s,l),v(l,c),v(s,p),v(s,m);for(let D=0;D<g.length;D+=1)g[D]&&g[D].m(m,null);v(s,u),v(s,f),P.m(f,null),S(d,i,k),G&&G.m(d,k),S(d,h,k),E||(w=[$(at,"keydown",ut),Ae($e.call(null,s,ft))],E=!0)},p(d,[k]){var D;k&9&&(A=Array.from(Array(6).keys()),g=Se(g,k,L,1,d,A,_,m,We,ye,null,pe)),k&16&&N(m,"playing",!d[4]),k&2&&N(m,"bad-guess",(D=d[1])==null?void 0:D.badGuess),z===(z=q(d))&&P?P.p(d,k):(P.d(1),P=z(d),P&&(P.c(),P.m(f,null))),d[4]?G?G.p(d,k):(G=Ee(d),G.c(),G.m(h.parentNode,h)):G&&(G.d(1),G=null)},i:se,o:se,d(d){b(e),d&&b(t),d&&b(r),d&&b(n),d&&b(s);for(let k=0;k<g.length;k+=1)g[k].d();P.d(),d&&b(i),G&&G.d(d),d&&b(h),E=!1,Oe(w)}}}function ut(a){var e;a.metaKey||(e=document.querySelector(`[data-key="${a.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const ft=()=>({update:a})=>{a({reset:!1})};function dt(a,e,t){let r,o,n,s;Xe(a,tt,_=>t(7,s=_));let{data:l}=e,{form:c}=e,p,m;function g(_){const u=l.guesses[o],f=_.target.getAttribute("data-key");f==="backspace"?(t(0,l.guesses[o]=u.slice(0,-1),l),c!=null&&c.badGuess&&t(1,c.badGuess=!1,c)):u.length<5&&t(0,l.guesses[o]+=f,l)}return a.$$set=_=>{"data"in _&&t(0,l=_.data),"form"in _&&t(1,c=_.form)},a.$$.update=()=>{var _;a.$$.dirty&1&&t(4,r=l.answers.at(-1)==="xxxxx"),a.$$.dirty&17&&t(3,o=r?-1:l.answers.length),a.$$.dirty&13&&(t(2,p={}),t(5,m={}),l.answers.forEach((u,f)=>{const i=l.guesses[f];for(let h=0;h<5;h+=1){const E=i[h];u[h]==="x"?(t(2,p[E]="exact",p),t(5,m[E]="correct",m)):p[E]||(t(2,p[E]=u[h]==="c"?"close":"missing",p),t(5,m[E]=u[h]==="c"?"present":"absent",m))}})),a.$$.dirty&9&&t(6,n=((_=l.guesses[o])==null?void 0:_.length)===5)},[l,c,p,o,r,m,n,s,g]}class bt extends Ge{constructor(e){super(),Ne(this,e,dt,ct,Pe,{data:0,form:1})}}export{bt as component};
